<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Diffusion Models – Visualizations</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../styles.css" />
</head>

<body class="top-title">
  <canvas id="sky" aria-hidden="true"></canvas>
  <header class="site-header">
    <div class="content">
      <nav class="top-nav" aria-label="Project navigation">
        <a href="../../index.html" class="nav-logo">
          Home
        </a>
      </nav>
    </div>
  </header>
  <div class="content big-title">
    <h1 class="title">Diffusion Models</h1>

    <div class="project-switcher" aria-label="Jump to project parts">
      <a href="../parta/proj5a.html" class="project-switcher__button project-switcher__button--primary">
        Part A
      </a>
      <a href="../partb/proj5b.html" class="project-switcher__button">
        Part B
      </a>
    </div>
  </div>

  <section class="content gold-glass writing-section">
    <h2 class="section-heading">HuggingFace Model Interface</h2>
    <figure class="writing-section figure img">
      <img src="media/diagrams/pipeline.png" alt="High-level inference pipeline from raw text to predictions.">
    </figure>
    <p>
      The HuggingFace inference pipeline can be generalized as a sequence of clearly defined
      transformations. The process starts with <em>raw text</em>, a plain string such as “This course is
      amazing.” The <strong>tokenizer</strong> takes this string, splits it into subword units, and looks
      up each unit in a fixed vocabulary table. This step produces a sequence of integers called
      <em>input IDs</em>, which is the form the model can consume. The <strong>model</strong> then takes
      these input IDs and computes a real-valued score for each possible label; these scores are called
      <em>logits</em> and encode how compatible the text is with each class before any normalization.
      The final <strong>post-processing</strong> block converts logits into something usable: a softmax
      turns them into probabilities, and simple decision logic (such as taking the largest probability)
      chooses the predicted label, for example POSITIVE versus NEGATIVE sentiment.
    </p>
  </section>


  <section class="content gold-glass writing-section">
    <h2 class="section-heading">Transformer Architecture & DeepFloyd IF</h2>
    <p>
      The internal structure of the model can be decomposed into an embedding layer, a stack of
      transformer layers, and a classification head. First, an <strong>embedding layer</strong> maps each
      input ID to a dense vector that represents the token in a continuous space. A stack of
      <strong>transformer layers</strong> then processes the entire sequence: each layer applies
      self-attention, so every token can use information from every other token, followed by small
      feed-forward networks that refine these combined representations. After several such layers, the
      model extracts a single summary vector for the whole sequence (for example, by reading a special
      classification token or averaging all token vectors). A small <strong>classification head</strong>,
      typically one or two linear layers, takes this summary vector and produces the logits. These logits
      feed directly into the post-processing step from the first paragraph, completing the logical chain
      from raw text to final prediction.
    </p>

    <figure class="writing-section figure img">
      <img src="media/diagrams/transformer_and_head-dark.svg"
        alt="Transformer backbone and output head used in the HuggingFace model.">
    </figure>

    <p>
      DeepFloyd IF can be understood as coupling this text encoder to a three-stage cascaded diffusion
      model: a 64×64 base denoiser (stage 1) followed by two upsamplers that refine the image to higher
      resolutions (stages 2 and 3). For all experiments in this section, prompt embeddings produced by
      the transformer are used as conditioning signals at every denoising step, while the random seed is
      fixed to 12152000 so that differences in the outputs primarily reflect the prompts and sampling
      hyperparameters. Classifier-free guidance is applied with a relatively strong guidance scale in
      stage 1 (γ ≈ 9.0) and slightly lower guidance in the upsampling stages (γ ≈ 7.0), which stabilizes
      global structure while allowing the higher-resolution stages to sharpen details. This setup
      provides a controlled environment for the prompt-based images that follow, making it possible to
      interpret how changes in text descriptions translate into systematic changes in composition,
      lighting, and reflective structure.
    </p>
  </section>


  <!--============================================= DeepFloyd Prompts ============================================ -->
  <section class="content gold-glass iteration-belt" aria-label="DeepFloyd prompts">
    <h2 class="section-heading">DeepFloyd Prompts</h2>
    <div class="iteration-belt__intro">
      <p>
        Prompt design in this part is instantiated by a small, curated set of historical and
        reflection-based descriptions. Six prompts are used in total, including: a symbolist scene of
        Lewis and Clark reaching the Columbia River, a crowded baroque marketplace lit by torches, a
        mermaid under moonlight described through reflections, a Renaissance city square seen through
        glass panes, a library whose windows open onto different skies, and a symbolic close-up of an
        eye reflecting the Hiroshima mushroom cloud. For each prompt, a text embedding is obtained using
        the HuggingFace text encoder and reused across all subsequent sampling runs.
      </p>
    </div>

    <div class="iteration-belt__header">
      <h3 class="iteration-belt__title">DeepFloyd Prompts</h3>
      <button type="button" class="iteration-belt__toggle" aria-pressed="false">Pause</button>
    </div>

    <div class="iteration-belt__viewport">
      <h4 class="iteration-belt__row-title">Timesteps</h4>
      <div class="iteration-belt__track">
        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/prompts/lewis.png">
          <figcaption class="iteration-belt__caption">"a symbolist painting of Lewis and Clark reaching the Columbia
            River, soft edges"</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/prompts/market.png">
          <figcaption class="iteration-belt__caption">"a baroque oil painting of a crowded market lit by torches and
            deep shadows"
          </figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/prompts/mermaid.png">
          <figcaption class="iteration-belt__caption">"a romanticism oil painting of a mermaid seen only as a
            reflection
            in dark waves under moonlight"
          </figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/prompts/glass_planes.png">
          <figcaption class="iteration-belt__caption">" “a renaissance-style painting of a city square reflected in
            many
            small glass panes”
          </figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/prompts/hiroshima.png">
          <figcaption class="iteration-belt__caption">"a symbolist oil painting, close-up of a human eye whose iris is
            a
            reflection of a distant mushroom of the atomic bomb dropped at Hiroshima"
          </figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/prompts/windows.png">
          <figcaption class="iteration-belt__caption">"a realism painting of a library where each window opens onto a
            different sky"
          </figcaption>
        </figure>
      </div>
    </div>

    <div class="iteration-belt__outro">
      <p>
        Three of these prompts are selected as primary case studies and are rendered repeatedly with a
        fixed random seed of 12152000 and multiple stage-1 num_inference_steps configurations, while
        keeping the higher-resolution stages and guidance scales fixed. This setup satisfies the
        deliverable requirements: it produces concrete images for the chosen captions, exposes how
        changes in the diffusion depth alter the realization of each description, and establishes a
        single seed that is carried forward into later parts of the project so that differences in the
        outputs can be attributed to the prompts and sampling settings rather than to randomness.
      </p>
    </div>

  </section>


  <!-- 1.1 belt -->
  <!-- <section class="content gold-glass iteration-belt" aria-label="Iteration snapshots">
    <div class="iteration-belt__header">
      <h2 class="iteration-belt__title">DeepFloyd Prompts</h2>

      <button type="button" class="iteration-belt__toggle" aria-pressed="false">
        Pause
      </button>
    </div>


    <div class="iteration-belt__viewport">
      <h3 class="iteration-belt__row-title">Timesteps </h3>
      <div class="iteration-belt__track">

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/prompts/lewis.png">
          <figcaption class="iteration-belt__caption">"a symbolist painting of Lewis and Clark reaching the Columbia
            River, soft edges"</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/prompts/market.png">
          <figcaption class="iteration-belt__caption">"a baroque oil painting of a crowded market lit by torches and
            deep shadows"
          </figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/prompts/mermaid.png">
          <figcaption class="iteration-belt__caption">"a romanticism oil painting of a mermaid seen only as a reflection
            in dark waves under moonlight"
          </figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/prompts/glass_planes.png">
          <figcaption class="iteration-belt__caption">" “a renaissance-style painting of a city square reflected in many
            small glass panes”
          </figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/prompts/hiroshima.png">
          <figcaption class="iteration-belt__caption">"a symbolist oil painting, close-up of a human eye whose iris is a
            reflection of a distant mushroom of the atomic bomb dropped at Hiroshima"
          </figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/prompts/windows.png">
          <figcaption class="iteration-belt__caption">"a realism painting of a library where each window opens onto a
            different sky"
          </figcaption>
        </figure>

      </div>
    </div>
  </section> -->



  <!-- ===================================== 1.1 Implementing the Forward Process ====================================  -->
  <section class="content gold-glass writing-section">
    <h2 class="section-heading">1.1 Forward Process</h2>
    <p>
      Deliverables

      Implement the noisy_im = forward(im, t) function
      Show the Campanile at noise level [250, 500, 750].

    </p>
  </section>

  <!-- 1.1 belt -->
  <section class="content gold-glass iteration-belt" aria-label="Iteration snapshots">
    <div class="iteration-belt__header">
      <h2 class="iteration-belt__title">Adding Noise</h2>

      <button type="button" class="iteration-belt__toggle" aria-pressed="false">
        Pause
      </button>
    </div>

    <div class="iteration-belt__viewport">
      <h3 class="iteration-belt__row-title">Timesteps </h3>

      <div class="iteration-belt__track">
        <!-- group 1 -->
        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/forward_process/noisy_t_0.png"
            alt="Data visualization at iteration 0">
          <figcaption class="iteration-belt__caption">t = 0</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/forward_process/noisy_t_250.png"
            alt="Data visualization at iteration 250">
          <figcaption class="iteration-belt__caption">t = 250</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/forward_process/noisy_t_500.png"
            alt="Data visualization at iteration 500">
          <figcaption class="iteration-belt__caption">t = 500</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/forward_process/noisy_t_750.png"
            alt="Data visualization at iteration 750">
          <figcaption class="iteration-belt__caption">t = 750</figcaption>
        </figure>
      </div>
    </div>
  </section>

  <!-- ============================================ 1.2 Classical Denoising =============================================== -->
  <section class="content gold-glass writing-section">
    <h2 class="section-heading">1.2 Classical Denoising</h2>
    <p>
      REQUIRED:
      For the 3 text prompts that we provide, display the caption and the output of the model. Reflect on the quality of
      the outputs and their relationships to the text prompts. Make sure to try at least 2 different num_inference_steps
      values. Report the random seed that you're using here. You should use the same seed all subsequent parts.
    </p>
  </section>

  <!-- 1.2 double belt images-->
  <section class="content gold-glass iteration-belt iteration-belt--two-rows">
    <div class="iteration-belt__header">
      <h2 class="iteration-belt__title">Classical Denoising (Noisy vs Gaussian)</h2>
      <button type="button" class="iteration-belt__toggle" aria-pressed="false">
        Pause
      </button>
    </div>

    <!-- Row 1: noisy inputs -->
    <div class="iteration-belt__row">
      <h3 class="iteration-belt__row-title">Noisy input</h3>
      <div class="iteration-belt__viewport">
        <div class="iteration-belt__track">
          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/classical_denoising/noisy_t_0.png" alt="Noisy image t = 0">
            <figcaption class="iteration-belt__caption">t = 0</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/classical_denoising/noisy_t_250.png"
              alt="Noisy image t = 250">
            <figcaption class="iteration-belt__caption">t = 250</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/classical_denoising/noisy_t_500.png"
              alt="Noisy image t = 500">
            <figcaption class="iteration-belt__caption">t = 500</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/classical_denoising/noisy_t_750.png"
              alt="Noisy image t = 750">
            <figcaption class="iteration-belt__caption">t = 750</figcaption>
          </figure>
        </div>
      </div>
    </div>

    <!-- Row 2: Gaussian denoised -->
    <div class="iteration-belt__row">
      <h3 class="iteration-belt__row-title">Gaussian denoised</h3>
      <div class="iteration-belt__viewport">
        <div class="iteration-belt__track">

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/classical_denoising/gauss_t_0.png"
              alt="Gaussian blur at iteration t = 0">
            <figcaption class="iteration-belt__caption">t = 0</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/classical_denoising/gauss_t_250.png"
              alt="Gaussian blur at iteration t = 250">
            <figcaption class="iteration-belt__caption">t = 250</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/classical_denoising/gauss_t_500.png"
              alt="Gaussian blur at iteration t = 500">
            <figcaption class="iteration-belt__caption">t = 500</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/classical_denoising/gauss_t_750.png"
              alt="Gaussian blur at iteration t = 750">
            <figcaption class="iteration-belt__caption">t = 750</figcaption>
          </figure>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================ 1.3 One-Step Denoising =============================================== -->

  <section class="content gold-glass writing-section">
    <h2 class="section-heading">1.3 One-Step Denoising</h2>
    <p>For the 3 noisy images from 1.2 (t = [250, 500, 750]):

      Use your forward function to add noise to your Campanile.
      Estimate the noise in the new noisy image, by passing it through stage_1.unet
      Remove the noise from the noisy image to obtain an estimate of the original image.
      Visualize the original image, the noisy image, and the estimate of the original image</p>
  </section>

  <!-- 1.3 double belt images -->
  <section class="content gold-glass iteration-belt iteration-belt--two-rows"
    aria-label="One-step denoising comparison">
    <div class="iteration-belt__header">
      <h2 class="iteration-belt__title">One-Step Denoising (Noisy vs Estimation)</h2>
      <button type="button" class="iteration-belt__toggle" aria-pressed="false">
        Pause
      </button>
    </div>


    <!-- Row 1: Gaussian denoised -->
    <div class="iteration-belt__row">
      <h3 class="iteration-belt__row-title">One-Step Denoised</h3>
      <div class="iteration-belt__viewport">
        <div class="iteration-belt__track">

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/one_step/noisy_t_0.png"
              alt="Gaussian blur at iteration t = 0">
            <figcaption class="iteration-belt__caption">t = 0</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/one_step/noisy_t_250.png"
              alt="Gaussian blur at iteration t = 250">
            <figcaption class="iteration-belt__caption">t = 250</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/one_step/noisy_t_500.png"
              alt="Gaussian blur at iteration t = 500">
            <figcaption class="iteration-belt__caption">t = 500</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/one_step/noisy_t_750.png"
              alt="Gaussian blur at iteration t = 750">
            <figcaption class="iteration-belt__caption">t = 750</figcaption>
          </figure>
        </div>
      </div>
    </div>

    <!-- Row 2: noisy inputs -->
    <div class="iteration-belt__row">
      <h3 class="iteration-belt__row-title">Noisy input</h3>
      <div class="iteration-belt__viewport">

        <div class="iteration-belt__track">
          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/one_step/denoised_t_0.png" alt="Denoised image t = 0">
            <figcaption class="iteration-belt__caption">t = 0</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/one_step/denoised_t_250.png" alt="Denoised image t = 250">
            <figcaption class="iteration-belt__caption">t = 250</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/one_step/denoised_t_500.png" alt="Denoised image t = 500">
            <figcaption class="iteration-belt__caption">t = 500</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/one_step/denoised_t_750.png" alt="Denoised image t = 750">
            <figcaption class="iteration-belt__caption">t = 750</figcaption>
          </figure>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================ 1.4 Iterative Denoising =============================================== -->
  <section class="content gold-glass writing-section">
    <h2 class="section-heading">IV. Iterative Denoising</h2>
    <p>Using i_start = 10:

      Create strided_timesteps: a list of monotonically decreasing timesteps, starting at 990, with a stride of 30,
      eventually reaching 0. Also initialize the timesteps using the function
      stage_1.scheduler.set_timesteps(timesteps=strided_timesteps)
      Complete the iterative_denoise function
      Show the noisy Campanile every 5th loop of denoising (it should gradually become less noisy)
      Show the final predicted clean image, using iterative denoising
      Show the predicted clean image using only a single denoising step, as was done in the previous part. This should
      look much worse.
      Show the predicted clean image using gaussian blurring, as was done in part 1.2.
    </p>
  </section>

  <!-- 1.4 double belt images -->
  <section class="content gold-glass iteration-belt iteration-belt--two-rows">
    <div class="iteration-belt__header">
      <h2 class="iteration-belt__title">Various Denoising Methods</h2>
      <button type="button" class="iteration-belt__toggle" aria-pressed="false">
        Pause
      </button>
    </div>

    <div class="iteration-belt__row">
      <h3 class="iteration-belt__row-title"> Iterative Denoising </h3>
      <div class="iteration-belt__viewport">
        <div class="iteration-belt__track">

          <!-- row 1-->
          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/iterative_denoising/i_start1.gif" alt="Denoised image t = 90">
            <figcaption class="iteration-belt__caption">t = 90 </figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/iterative_denoising/i_start3.gif"
              alt="Denoised image t = 240">
            <figcaption class="iteration-belt__caption">t = 240</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/iterative_denoising/i_start5.gif"
              alt="Denoised image t = 390">
            <figcaption class="iteration-belt__caption">t = 390</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/iterative_denoising/i_start7.gif"
              alt="Denoised image t = 540">
            <figcaption class="iteration-belt__caption">t = 540</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/iterative_denoising/i_start10.gif"
              alt="Denoised image t = 690">
            <figcaption class="iteration-belt__caption">t = 690</figcaption>
          </figure>
        </div>
      </div>
    </div>

    <!-- Row 2: iterative denoise inputs -->
    <div class="iteration-belt__row">
      <h3 class="iteration-belt__row-title">Denoised Images</h3>
      <div class="iteration-belt__viewport">
        <div class="iteration-belt__track">

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/iterative_denoising/orig.png" alt="Original image">
            <figcaption class="iteration-belt__caption">Original</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/iterative_denoising/i_start20.png"
              alt="Iterative Denoised Campanile">
            <figcaption class="iteration-belt__caption">Iterative Denoised Campanile</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/one_step/denoised_t_500.png"
              alt="One-Step Denoised Campanile">
            <figcaption class="iteration-belt__caption">One-Step Denoised Campanile</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/classical_denoising/gauss_t_500.png"
              alt="Gaussian Blurred Campanile">
            <figcaption class="iteration-belt__caption">Gaussian Blurred Campanile</figcaption>
          </figure>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================ 1.5 Diffusion Model Sampling=============================================== -->
  <section class="content gold-glass writing-section">
    <h2 class="section-heading">V. Diffusion Model Sampling</h2>
    <p>
      Show 5 sampled images.
    </p>
  </section>

  <!-- 1.5 single belt images -->
  <section class="content gold-glass iteration-belt" aria-label="Iterative Denosing">
    <div class="iteration-belt__header">
      <h2 class="iteration-belt__title">Sampled Images</h2>
      <button type="button" class="iteration-belt__toggle" aria-pressed="false">
        Pause
      </button>
    </div>

    <div class="iteration-belt__row">
      <h3 class="iteration-belt__row-title"> Sampling at timesteps t = 0</h3>
      <div class="iteration-belt__viewport">
        <div class="iteration-belt__track">

          <!-- 5 sampled images -->
          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/diffusion_model_sampling/sample_32168.png"
              alt="Sample with seed 32168">
            <figcaption class="iteration-belt__caption">Sample 1</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/diffusion_model_sampling/sample_100570.png"
              alt="Sample with seed 100570">
            <figcaption class="iteration-belt__caption">Sample 2</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/diffusion_model_sampling/sample_91798.png"
              alt="Sample with seed 91798">
            <figcaption class="iteration-belt__caption">Sample 3</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/diffusion_model_sampling/sample_1215.png"
              alt="Sample with seed 1215">
            <figcaption class="iteration-belt__caption">Sample 4</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/diffusion_model_sampling/sample_122607.png"
              alt="Sample with seed 122607">
            <figcaption class="iteration-belt__caption">Sample 5</figcaption>
          </figure>
        </div>
      </div>
    </div>
  </section>


  <!-- ============================================ 1.6 Classifier-Free Guidance (CFG) =============================================== -->
  <section class="content gold-glass writing-section">
    <h2 class="section-heading">VI. Classifier-Free Guidance (CFG)</h2>
    <p> Deliverables

      Implement the iterative_denoise_cfg function
      Show 5 images of "a high quality photo" with a CFG scale of

      . Now this prompt becomes a condition (but fairly weak) to generate conditional noise! You will use your
      customized prompts as stronger conditions in part 1.7 - part 1.9.

    </p>
  </section>


  <!-- 1.6 single belt images of campanile -->
  <section class="content gold-glass iteration-belt" aria-label="CFG Diffusion Sampling">
    <div class="iteration-belt__header">
      <h2 class="iteration-belt__title">1.6 Sample with CFG</h2>
      <button type="button" class="iteration-belt__toggle" aria-pressed="false">
        Pause
      </button>
    </div>

    <div class="iteration-belt__viewport">
      <div class="iteration-belt__track">

        <!-- 5 sampled images -->
        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/cfg/s4.png" alt="Sample with seed 32168">
          <figcaption class="iteration-belt__caption">Sample 1</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/cfg/s8.png" alt="Sample with seed 100570">
          <figcaption class="iteration-belt__caption">Sample 2</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/cfg/s5.png" alt="Sample with seed 91798">
          <figcaption class="iteration-belt__caption">Sample 3</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/cfg/s2.png" alt="Sample with seed 1215">
          <figcaption class="iteration-belt__caption">Sample 4</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/cfg/s6.png" alt="Sample with seed 122607">
          <figcaption class="iteration-belt__caption">Sample 5</figcaption>
        </figure>
      </div>
    </div>
  </section>


  <!-- ============================================ 1.7 Image-to-image Translation =============================================== -->
  <section class="content gold-glass writing-section">
    <h2 class="section-heading">VII. Image-to-image Translation</h2>
    <p> Deliverables

      Edits of the Campanile image, using the given prompt at noise levels [1, 3, 5, 7, 10, 20] with the conditional
      text prompt "a high quality photo"
      Edits of 2 of your own test images, using the same procedure.

      Hints

      You should have a range of images, gradually looking more like the original image
    </p>
  </section>

  <!-- predicting campinele SDEdit -->
  <section class="content gold-glass iteration-belt" aria-label="CFG Diffusion Sampling">
    <div class="iteration-belt__header">
      <h2 class="iteration-belt__title">1.7 Predicting Campanile with SDEdit Algorithm</h2>
      <button type="button" class="iteration-belt__toggle" aria-pressed="false">
        Pause
      </button>
    </div>

    <div class="iteration-belt__viewport">
      <h3 class="iteration-belt__row-title">Sampled images </h3>
      <div class="iteration-belt__track">

        <!-- 5 sampled images for campinale -->
        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/SDEdit/i_start1.gif" alt="id start = 1">
          <figcaption class="iteration-belt__caption">start index = 1</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/SDEdit/i_start3.gif" alt="id_start = 3">
          <figcaption class="iteration-belt__caption">start index = 2</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/SDEdit/i_start5.gif" alt="id_start = 5">
          <figcaption class="iteration-belt__caption">start index = 3</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/SDEdit/i_start7.gif" alt="id_start = 7">
          <figcaption class="iteration-belt__caption">start index = 7</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/SDEdit/i_start10.gif" alt="id start = 10">
          <figcaption class="iteration-belt__caption">start index = 10</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/SDEdit/i_start20.gif" alt="id start = start">
          <figcaption class="iteration-belt__caption">start index = 20</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/SDEdit/orig.png" alt="id start = start">
          <figcaption class="iteration-belt__caption">Original input</figcaption>
        </figure>
      </div>
    </div>
  </section>

  <!-- 1.7 double belt images -->
  <section class="content gold-glass iteration-belt iteration-belt--two-rows"
    aria-label="One-step denoising comparison">

    <div class="iteration-belt__header">
      <h2 class="iteration-belt__title">Sampling using SDEdit algorithm</h2>
      <button type="button" class="iteration-belt__toggle" aria-pressed="false">
        Pause
      </button>
    </div>
    <div class="iteration-belt__viewport">
      <h3 class="iteration-belt__row-title">Glass Art </h3>
      <div class="iteration-belt__track">
        <!-- selection 1 SDEdit images -->

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/SDEdit/a/i_start1.gif">
          <figcaption class="iteration-belt__caption">starting index = 1</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/SDEdit/a/i_start3.gif">
          <figcaption class="iteration-belt__caption">starting index = 3</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/SDEdit/a/i_start5.gif">
          <figcaption class="iteration-belt__caption">starting index = 5</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/SDEdit/a/i_start7.gif">
          <figcaption class="iteration-belt__caption">starting index = 7</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/SDEdit/a/i_start10.gif">
          <figcaption class="iteration-belt__caption">starting index = 10</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/SDEdit/a/i_start20.gif">
          <figcaption class="iteration-belt__caption">starting index = 20</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/SDEdit/a/orig.png">
          <figcaption class="iteration-belt__caption">Original</figcaption>
        </figure>
      </div>
    </div>

    <!-- Row 2: iterative denoise inputs -->
    <div class="iteration-belt__row">
      <h3 class="iteration-belt__row-title">Space Needle</h3>
      <div class="iteration-belt__viewport">
        <div class="iteration-belt__track">

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/SDEdit/b/i_start1.gif">
            <figcaption class="iteration-belt__caption">starting index = 1</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/SDEdit/b/i_start3.gif">
            <figcaption class="iteration-belt__caption">starting index = 3</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/SDEdit/b/i_start5.gif">
            <figcaption class="iteration-belt__caption">starting index = 5</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/SDEdit/b/i_start7.gif">
            <figcaption class="iteration-belt__caption">starting index = 7</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/SDEdit/b/i_start10.gif">
            <figcaption class="iteration-belt__caption">starting index = 10</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/SDEdit/b/i_start20.gif">
            <figcaption class="iteration-belt__caption">starting index = 20</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/SDEdit/b/orig.png">
            <figcaption class="iteration-belt__caption">Original</figcaption>
          </figure>
        </div>
      </div>
    </div>
  </section>

  <!----------------------------------------------  1.7.1 Image-to-image Translation --------------------------------------------- -->

  <section class="content gold-glass writing-section">
    <h2 class="section-heading">1.7.1 Editing Web Images</h2>
    <p>
      1 image from the web of your choice, edited using the above method for noise levels [1, 3, 5, 7, 10, 20] (and
      whatever additional noise levels you want)
      2 hand drawn images, edited using the above method for noise levels [1, 3, 5, 7, 10, 20] (and whatever additional
      noise levels you want)
    </p>
  </section>


  <!-- ================================================ 1.7.1 Editing Hand Drawn and Web Images =============================== -->
  <section class="content gold-glass iteration-belt">
    <div class="iteration-belt__header">
      <h2 class="iteration-belt__title">Web based image: The Crab Nebula </h2>
      <button type="button" class="iteration-belt__toggle" aria-pressed="false">
        Pause
      </button>
    </div>

    <div class="iteration-belt__viewport">
      <h3 class="iteration-belt__row-title">Sampled images </h3>
      <div class="iteration-belt__track">

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/hand_web/web/i_start1.gif" alt="id start = 1">
          <figcaption class="iteration-belt__caption">start index = 1</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/hand_web/web/i_start3.gif" alt="id_start = 3">
          <figcaption class="iteration-belt__caption">start index = 3</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/hand_web/web/i_start5.gif" alt="id_start = 5">
          <figcaption class="iteration-belt__caption">start index = 5</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/hand_web/web/i_start7.gif" alt="id_start = 7">
          <figcaption class="iteration-belt__caption">start index = 7</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/hand_web/web/i_start10.gif" alt="id start = 10">
          <figcaption class="iteration-belt__caption">start index = 10</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/hand_web/web/i_start20.gif" alt="id start = start">
          <figcaption class="iteration-belt__caption">start index = 20</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/hand_web/web/orig.png" alt="id start = start">
          <figcaption class="iteration-belt__caption">Rescaled Input Image (64x64) </figcaption>
        </figure>
      </div>
    </div>
  </section>

  <section class="content gold-glass writing-section">
    <h2 class="section-heading">1.7.1 Editing Hand Drawn Images</h2>
    <p>
      1 image from the web of your choice, edited using the above method for noise levels [1, 3, 5, 7, 10, 20] (and
      whatever additional noise levels you want)
      2 hand drawn images, edited using the above method for noise levels [1, 3, 5, 7, 10, 20] (and whatever additional
      noise levels you want)
    </p>
  </section>

  <section class="content gold-glass iteration-belt iteration-belt--two-rows" delta-speed>
    <div class="iteration-belt__header">
      <h2 class="iteration-belt__title">Various Denoising Methods</h2>
      <button type="button" class="iteration-belt__toggle" aria-pressed="false">
        Pause
      </button>
    </div>

    <!-- Row 2: iterative denoise inputs -->
    <div class="iteration-belt__row">
      <h3 class="iteration-belt__row-title">Doodle 1: The Blue Bandit</h3>
      <div class="iteration-belt__viewport">
        <div class="iteration-belt__track">

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/hand_web/doodle1/orig.png" alt="id start = start">
            <figcaption class="iteration-belt__caption">Rescaled Input Image (64x64) </figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/hand_web/doodle1/i_start1.gif" alt="id start = 1">
            <figcaption class="iteration-belt__caption">start index = 1</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/hand_web/doodle1/i_start3.gif" alt="id_start = 3">
            <figcaption class="iteration-belt__caption">start index = 3</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/hand_web/doodle1/i_start5.gif" alt="id_start = 5">
            <figcaption class="iteration-belt__caption">start index = 5</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/hand_web/doodle1/i_start7.gif" alt="id_start = 7">
            <figcaption class="iteration-belt__caption">start index = 7</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/hand_web/doodle1/i_start10.gif" alt="id start = 10">
            <figcaption class="iteration-belt__caption">start index = 10</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/hand_web/doodle1/i_start20.gif" alt="id start = start">
            <figcaption class="iteration-belt__caption">start index = 20</figcaption>
          </figure>
        </div>
      </div>
    </div>

    <div class="iteration-belt__row">
      <h3 class="iteration-belt__row-title">Doodle 2: The Little Prince</h3>
      <div class="iteration-belt__viewport">
        <div class="iteration-belt__track">

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/hand_web/doodle2/orig.png" alt="id start = start">
            <figcaption class="iteration-belt__caption">Rescaled Input Image (64x64) </figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/hand_web/doodle2/i_start1.gif" alt="id start = 1">
            <figcaption class="iteration-belt__caption">start index = 1</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/hand_web/doodle2/i_start3.gif" alt="id_start = 3">
            <figcaption class="iteration-belt__caption">start index = 3</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/hand_web/doodle2/i_start5.gif" alt="id_start = 5">
            <figcaption class="iteration-belt__caption">start index = 5</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/hand_web/doodle2/i_start7.gif" alt="id_start = 7">
            <figcaption class="iteration-belt__caption">start index = 7</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/hand_web/doodle2/i_start10.gif" alt="id start = 10">
            <figcaption class="iteration-belt__caption">start index = 10</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/hand_web/doodle2/i_start20.gif" alt="id start = start">
            <figcaption class="iteration-belt__caption">start index = 20</figcaption>
          </figure>
        </div>
      </div>
    </div>


  </section>

  <!-- ==================================================== 1.7.2 Inpainting ====================================================== -->
  <section class="content gold-glass writing-section">
    <h2 class="section-heading">1.7.2 Inpainting</h2>
    <p>
      1 image from the web of your choice, edited using the above method for noise levels [1, 3, 5, 7, 10, 20] (and
      whatever additional noise levels you want)
      2 hand drawn images, edited using the above method for noise levels [1, 3, 5, 7, 10, 20] (and whatever additional
      noise levels you want)
    </p>
  </section>

  <section class="content gold-glass iteration-belt">
    <div class="iteration-belt__header">
      <h2 class="iteration-belt__title">Inpainting The Campanile</h2>
      <button type="button" class="iteration-belt__toggle" aria-pressed="false">
        Pause
      </button>
    </div>

    <div class="iteration-belt__viewport">
      <h3 class="iteration-belt__row-title">Timesteps </h3>
      <div class="iteration-belt__track">

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/inpainting/campanile/orig.png">
          <figcaption class="iteration-belt__caption">Input Image </figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/inpainting/campanile/camp_double_mask.png">
          <figcaption class="iteration-belt__caption">Mask</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/inpainting/campanile/i_start1.gif">
          <figcaption class="iteration-belt__caption">start index = 1</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/inpainting/campanile/i_start2.gif">
          <figcaption class="iteration-belt__caption">start index = 2</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/inpainting/campanile/i_start3.gif">
          <figcaption class="iteration-belt__caption">start index = 3</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/inpainting/campanile/i_start4.gif">
          <figcaption class="iteration-belt__caption">start index = 4</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/inpainting/campanile/i_start5.gif">
          <figcaption class="iteration-belt__caption">start index = 5</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/inpainting/campanile/i_start7.gif">
          <figcaption class="iteration-belt__caption">start index = 7</figcaption>
        </figure>
      </div>
    </div>
  </section>

  <!-- ==================================================== 1.7.3 Text-Conditional Image-to-image Translation ====================================================== -->
  <section class="content gold-glass writing-section">
    <h2 class="section-heading">Text-Conditional Image-to-image Translation</h2>
    <p>
      Now, we will do the same thing as SDEdit, but guide the projection with a text prompt. This is no longer pure
      "projection to the natural image manifold" but also adds control using language. This is simply a matter of
      changing the prompt from "a high quality photo" to any of your prompt!
      Deliverables

      Edits of the Campanile, using the given prompt at noise levels [1, 3, 5, 7, 10, 20]
      Edits of 2 of your own test images, using the same procedure

      Hints

      The images should gradually look more like original image, but also look like the text prompt.

    </p>
  </section>

  <section class="content gold-glass iteration-belt">
    <div class="iteration-belt__header">
      <!-- <h2 class="iteration-belt__title">Inpainting The Campanile</h2> -->
      <h2 class="iteration-belt__title">1.7.3 Prompt Guided Diffusion Models</h2>
      <button type="button" class="iteration-belt__toggle" aria-pressed="false">
        Pause
      </button>
    </div>

    <div class="iteration-belt__viewport">
      <h3 class="iteration-belt__row-title">Prompt: "a rocketship launching into space"</h3>
      <div class="iteration-belt__track">

        <!-- <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/inpainting/campanile/orig.png">
          <figcaption class="iteration-belt__caption">Input Image </figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/inpainting/campanile/camp_double_mask.png">
          <figcaption class="iteration-belt__caption">Mask</figcaption>
        </figure> -->

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/txtCond_img2img/i_start1.gif">
          <figcaption class="iteration-belt__caption">noise level 1</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/txtCond_img2img/i_start3.gif">
          <figcaption class="iteration-belt__caption">noise level 3</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/txtCond_img2img/i_start5.gif">
          <figcaption class="iteration-belt__caption">noise level 5</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/txtCond_img2img/i_start7.gif">
          <figcaption class="iteration-belt__caption">noise level 7</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/txtCond_img2img/i_start10.gif">
          <figcaption class="iteration-belt__caption">noise level 10</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/txtCond_img2img/i_start20.gif">
          <figcaption class="iteration-belt__caption">noise level 20</figcaption>
        </figure>
      </div>
    </div>
  </section>

  <!-------------------------------------------------------------1.7.3 image A ------------------------------------------>
  <section class="content gold-glass writing-section">
    <h2 class="section-heading">Text-Conditional Image-to-image Translation</h2>
    <p>
      1 image from the web of your choice, edited using the above method for noise levels [1, 3, 5, 7, 10, 20] (and
      whatever additional noise levels you want)
      2 hand drawn images, edited using the above method for noise levels [1, 3, 5, 7, 10, 20] (and whatever additional
      noise levels you want)
    </p>
  </section>

  <section class="content gold-glass iteration-belt iteration-belt--two-rows" delta-speed>
    <div class="iteration-belt__header">
      <h2 class="iteration-belt__title">Prompt Guided Diffusion Models</h2>
      <button type="button" class="iteration-belt__toggle" aria-pressed="false">
        Pause
      </button>
    </div>

    <!-- Row 2: iterative denoise inputs -->
    <div class="iteration-belt__row">
      <h3 class="iteration-belt__row-title">Prompt: "a Renaissance painting of a knight and a dragon"</h3>
      <div class="iteration-belt__viewport">
        <div class="iteration-belt__track">


          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/txtCond_img2img/a/i_start1.gif" alt="id start = 1">
            <figcaption class="iteration-belt__caption">noise level 1</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/txtCond_img2img/a/i_start3.gif" alt="id_start = 3">
            <figcaption class="iteration-belt__caption">noise level 3</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/txtCond_img2img/a/i_start5.gif" alt="id_start = 5">
            <figcaption class="iteration-belt__caption">noise level 5</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/txtCond_img2img/a/i_start7.gif" alt="id_start = 7">
            <figcaption class="iteration-belt__caption">noise level 7</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/txtCond_img2img/a/i_start10.gif" alt="id start = 10">
            <figcaption class="iteration-belt__caption">noise level 10</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/txtCond_img2img/a/i_start17.gif" alt="id start = 10">
            <figcaption class="iteration-belt__caption">noise level 17</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/txtCond_img2img/a/i_start20.gif" alt="id start = start">
            <figcaption class="iteration-belt__caption">noise level 20</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/txtCond_img2img/a/orig.png" alt="id start = start">
            <figcaption class="iteration-belt__caption">Original</figcaption>
          </figure>
        </div>
      </div>
    </div>

    <div class="iteration-belt__row">
      <h3 class="iteration-belt__row-title">Prompt: "'a Renaissance painting of a celestial choir of angels"</h3>
      <div class="iteration-belt__viewport">
        <div class="iteration-belt__track">

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/txtCond_img2img/b/i_start1.gif" alt="id start = 1">
            <figcaption class="iteration-belt__caption">noise level 1</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/txtCond_img2img/b/i_start3.gif" alt="id_start = 3">
            <figcaption class="iteration-belt__caption">noise level 3</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/txtCond_img2img/b/i_start5.gif" alt="id_start = 5">
            <figcaption class="iteration-belt__caption">noise level 5</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/txtCond_img2img/b/i_start7.gif" alt="id_start = 7">
            <figcaption class="iteration-belt__caption">noise level 7</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/txtCond_img2img/b/i_start10.gif" alt="id start = 10">
            <figcaption class="iteration-belt__caption">noise level 10</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/txtCond_img2img/b/i_start17.gif" alt="id start = 17">
            <figcaption class="iteration-belt__caption">noise level 17</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/txtCond_img2img/b/i_start20.gif" alt="id start = 20">
            <figcaption class="iteration-belt__caption">noise level 20</figcaption>
          </figure>

          <figure class="iteration-belt__item">
            <img class="iteration-belt__image" src="media/txtCond_img2img/b/orig.png" alt="id start = original">
            <figcaption class="iteration-belt__caption">Original</figcaption>
          </figure>
        </div>
      </div>
    </div>


  </section>

  <!-- ==================================================== 1.8 Visual Anagrams ====================================================== -->

  <section class="content gold-glass writing-section">
    <h2 class="section-heading">Visual Anagrams</h2>
    <p>
      In this part, we are finally ready to implement Visual Anagrams and create optical illusions with diffusion
      models. In this part, we will create an image that looks like "an oil painting of people around a campfire", but
      when flipped upside down will reveal "an oil painting of an old man".

      To do this, we will denoise an image
      at step normally with the prompt , to obtain noise estimate . But at the same time, we will flip upside down, and
      denoise with the prompt , to get noise estimate . We can flip

      back, and average the two noise estimates. We can then perform a reverse/denoising diffusion step with the
      averaged noise estimate.

      The full algorithm will be:

      where UNet is the diffusion model UNet from before, is a function that flips the image, and and are two different
      text prompt embeddings. And our final noise estimate is

      . Please implement the above algorithm and show example of an illusion.
      Deliverables

      Correctly implemented visual_anagrams function
      2 illusions of your choice that change appearance when you flip it upside down (feel free to take inspirations
      from this page).

      Hints

      You may have to run multiple times to get a really good result for the same reasons as above.

    </p>
  </section>

  <section class="content gold-glass iteration-belt">
    <div class="iteration-belt__header">
      <h2 class="iteration-belt__title">Visual Anagrams</h2>

      <button type="button" class="iteration-belt__toggle" aria-pressed="false">
        Pause
      </button>
    </div>

    <div class="iteration-belt__viewport">
      <h3 class="iteration-belt__row-title">Various Prompts</h3>

      <div class="iteration-belt__track">
        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/visual_anagrams/anagram_flipped.png">
          <figcaption class="iteration-belt__caption">an oil painting of an old man</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/visual_anagrams/anagram_upright.png">
          <figcaption class="iteration-belt__caption">an oil painting of people around a campfire</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/visual_anagrams/a/anagram_upright.png">
          <figcaption class="iteration-belt__caption">a baroque painting of Cleopatra as a newborn princess in a tall
            palace hall</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/visual_anagrams/a/anagram_flipped.png">
          <figcaption class="iteration-belt__caption">a baroque painting of Cleopatra as a dying queen in the same tall
            palace hall</figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/visual_anagrams/b/anagram_flipped.png">
          <figcaption class="iteration-belt__caption">a romanticism painting of the storming of the Bastille
          </figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/visual_anagrams/b/anagram_upright.png">
          <figcaption class="iteration-belt__caption"> a neoclassical painting of the signing of the United States
            Declaration of Independence</figcaption>
        </figure>
      </div>
    </div>
  </section>
  <!-- ==================================================== 1.9 Hybrid Images ====================================================== -->

  <section class="content gold-glass writing-section">
    <h2 class="section-heading">Visual Anagrams</h2>
    <p>
      Deliverables

      Correctly implemented make_hybrids function
      2 hybrid images of your choosing (feel free to take inspirations from this page).

      Hints

      use torchvision.transforms.functional.gaussian_blur
      You may have to run multiple times to get a really good result for the same reasons as above
    </p>
  </section>

  <section class="content gold-glass iteration-belt">
    <div class="iteration-belt__header">
      <h2 class="iteration-belt__title">Hybrid Images</h2>

      <button type="button" class="iteration-belt__toggle" aria-pressed="false">
        Pause
      </button>
    </div>

    <div class="iteration-belt__viewport">
      <h3 class="iteration-belt__row-title">Various Prompts</h3>

      <div class="iteration-belt__track">
        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/hybrid/a/hybrid_steps.gif">
          <figcaption class="iteration-belt__caption">"a lithograph of a skull" / "a lithograph of a waterfall"
          </figcaption>
        </figure>

        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/hybrid/b/hybrid_steps.gif">
          <figcaption class="iteration-belt__caption">"a lithograph of a king" / "a lithograph of a volcano"
          </figcaption>
        </figure>


        <figure class="iteration-belt__item">
          <img class="iteration-belt__image" src="media/hybrid/c/hybrid_steps.gif">
          <figcaption class="iteration-belt__caption">"a young woman reading near a candlelight" / "a gothic cathedral"
          </figcaption>
        </figure>

      </div>
    </div>
  </section>


  <script src="../script.js" defer></script>
</body>

</html>