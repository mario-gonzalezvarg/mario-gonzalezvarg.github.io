<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Neural Fields</title>
  <meta name="description"
    content="CS180 Project 4 report with calibration, neural fields, NeRF training, results, analysis, and extras." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Cormorant+Garamond:wght@400;600&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="../proj4/styles.css" />
  <script defer src="../proj4/script.js"></script>
</head>

<body>
  <!-- fixed starfield backdrop -->
  <canvas id="sky" aria-hidden="true"></canvas>

  <header class="site-header" role="banner">
    <div class="progress" aria-hidden="true"><span class="bar"></span></div>
    <a class="brand" href="#">CS180 • Project 4</a>
  </header>

  <!----------------------------------------------------- Title ----------------------------------------------------->
  <main id="main">
    <section class="hero">
      <h1 class="serif title" data-split="chars">Neural Fields </h1>
      <p class="lead">UC&nbsp;Berkeley • CS180 Computational Photography. </p>

    </section>


    <!----------------------------------------------- Part 0 Camera Calibration and 3D Scanning ------------------------------------------------->
    <section id="3D Scan" class="section alt">
      <header class="section-header">
        <h1 class="serif" data-reveal-line>Camera Calibration and 3D Scanning</h1>
      </header>

      <div class="grid-2">
        <figure class="figure">
          <img src="media/viser/frustums_view1.png" alt="Viser frustums view 1">
          <figcaption>View 1 — global layout of camera poses.</figcaption>
        </figure>

        <figure class="figure">
          <img src="media/viser/frustums_view2.png" alt="Viser frustums view 2">
          <figcaption>View 2 — closer look at pose cluster and field of view.</figcaption>
        </figure>
      </div>
    </section>


    <!------------------------------------------------ Part 1 Fit a Neural Field to a 2D Image ---------------------------------------------------->
    <section id="max_encoding" class="section alt">
      <header class="section-header">
        <h1 class="serif" data-reveal-line>Varying Max Encoding Frequency</h1>
      </header>

      <article class="glass readable">
        To visualize how positional encoding transforms image coordinates, each PE(u,v) vector is projected onto its top
        three PCA components while the maximum encoding frequency L is varied.
        The PCA plots reveal that positional encoding progressively twists the original two-dimensional coordinate grid
        into a higher-dimensional manifold as L increases.
        For very low frequency (L = 1), the encoded PE(u,v) vectors occupy a single smooth, bowl-shaped surface in the
        top three principal components.
        The gradient of colors from red to green along this surface indicates that the first two principal components
        are almost linear functions of u and v, so the encoding behaves like a gently curved embedding of the image
        plane with no folds: nearby pixels in image coordinates remain nearby in feature space.
        This behavior is typical for low-frequency positional encodings, which tend to produce a smooth two-dimensional
        sheet in feature space with only mild curvature from which the network can draw samples.
      </article>

      <article class="glass readable">
        At mid-range frequencies (L = 8 and L = 12), the PCA manifolds begin to exhibit clear multi-layered structure.
        The surfaces no longer form a single simple bowl but instead resemble sheets that have been folded or partially
        rolled, with regions of the grid mapped to different heights in PC3 even when their PC1 and PC2 coordinates
        almost overlap.
        The color gradients in these plots confirm that the embedding is still globally ordered by u and v, because red
        and green bands do not intersect randomly; however, pixels that are adjacent along one coordinate can now be
        separated along the third principal component whenever the corresponding sine and cosine terms switch phase.
        This behavior shows that mid-frequency encodings preserve global continuity but already introduce local
        non-linearity: the network receives a representation where local neighborhoods are stretched and sheared, making
        it easier to represent edges and moderate-frequency texture with a finite number of ReLU layers.
      </article>


      <div class="pe-tabs">
        <!-- radios -->
        <input type="radio" name="L" id="L1" checked>
        <input type="radio" name="L" id="L4">
        <input type="radio" name="L" id="L8">
        <input type="radio" name="L" id="L12">
        <input type="radio" name="L" id="L16">
        <input type="radio" name="L" id="L24">


        <div class="pe-panels" aria-live="polite">
          <!---------------------------- L = 1 ------------------------------------>
          <div class="panel" data-l="L1">
            <figure class="pe-card"><img src="media/pe/L1_rgb.png" alt="L1 – PCA of PE features (colored by RGB)">
              <figcaption>Layers: 256</figcaption>
            </figure>
            <figure class="pe-card"><img src="media/pe/L1_uv.png" alt="L1 – PCA of PE features (colored by UV)">
              <figcaption>lr: 1e-2</figcaption>
            </figure>
            <figure class="pe-card"><img src="media/pe/L1_penult_pca3_rgb.png"
                alt="L1 – PCA of penultimate features (RGB)">
              <figcaption>2500 iterations</figcaption>
            </figure>

            <div class="graph-belt" aria-label="Renderings for L1">
              <div class="belt">
                <img src="media/render/freq/L1/render_00000.png" alt="L1 render 1">
                <img src="media/render/freq/L1/render_00500.png" alt="L1 render 2">
                <img src="media/render/freq/L1/render_01000.png" alt="L1 render 3">
                <img src="media/render/freq/L1/render_01500.png" alt="L1 render 4">
                <img src="media/render/freq/L1/render_02000.png" alt="L1 render 5">
                <img src="media/render/freq/L1/render_02500.png" alt="L1 render 6">
                <!-- loop -->
                <img src="media/render/freq/L1/render_00000.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L1/render_00500.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L1/render_01500.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L1/render_02000.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L1/render_02500.png" alt="" aria-hidden="true">
              </div>
            </div>
          </div>

          <!---------------------------- L = 4 ------------------------------------>
          <div class="panel" data-l="L4">
            <figure class="pe-card"><img src="media/pe/L4_rgb.png" alt="L4 – PCA of PE features (colored by RGB)">
              <figcaption>Layers: 256</figcaption>
            </figure>
            <figure class="pe-card"><img src="media/pe/L4_uv.png" alt="L4 – PCA of PE features (colored by UV)">
              <figcaption>lr: 1e-2</figcaption>
            </figure>
            <figure class="pe-card"><img src="media/pe/L4_penult_pca3_rgb.png"
                alt="L4 – PCA of penultimate features (RGB)">
              <figcaption>2500 iterations</figcaption>
            </figure>

            <div class="graph-belt" aria-label="Renderings for L4">
              <div class="belt">
                <img src="media/render/freq/L4/render_00000.png" alt="L4 render 1">
                <img src="media/render/freq/L4/render_00500.png" alt="L4 render 2">
                <img src="media/render/freq/L4/render_01000.png" alt="L4 render 3">
                <img src="media/render/freq/L4/render_01500.png" alt="L4 render 4">
                <img src="media/render/freq/L4/render_02000.png" alt="L4 render 5">
                <img src="media/render/freq/L4/render_02500.png" alt="L4 render 6">
                <!-- loop -->
                <img src="media/render/freq/L4/render_00000.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L4/render_00500.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L4/render_01500.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L4/render_02000.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L4/render_02500.png" alt="" aria-hidden="true">
              </div>
            </div>
          </div>

          <!---------------------------- L = 8 --------------------------------------->
          <div class="panel" data-l="L8">
            <figure class="pe-card"><img src="media/pe/L8_rgb.png" alt="L8 – PCA of PE features (colored by RGB)">
              <figcaption>PE • RGB</figcaption>
            </figure>
            <figure class="pe-card"><img src="media/pe/L8_uv.png" alt="L8 – PCA of PE features (colored by UV)">
              <figcaption>PE • UV</figcaption>
            </figure>
            <figure class="pe-card"><img src="media/pe/L8_penult_pca3_rgb.png"
                alt="L8 – PCA of penultimate features (RGB)">
              <figcaption>Penultimate • RGB</figcaption>
            </figure>

            <div class="graph-belt" aria-label="Renderings for L8">
              <div class="belt">
                <img src="media/render/freq/L8/render_00000.png" alt="L8 render 1">
                <img src="media/render/freq/L8/render_00500.png" alt="L8 render 2">
                <img src="media/render/freq/L8/render_01000.png" alt="L8 render 3">
                <img src="media/render/freq/L8/render_01500.png" alt="L8 render 4">
                <img src="media/render/freq/L8/render_02000.png" alt="L8 render 5">
                <img src="media/render/freq/L8/render_02500.png" alt="L8 render 6">
                <!-- loop -->
                <img src="media/render/freq/L8/render_00000.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L8/render_00500.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L8/render_01500.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L8/render_02000.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L8/render_02500.png" alt="" aria-hidden="true">
              </div>
            </div>
          </div>

          <!---------------------------- L = 12 --------------------------------------->

          <div class="panel" data-l="L12">
            <figure class="pe-card"><img src="media/pe/L12_rgb.png" alt="L12 – PCA of PE features (colored by RGB)">
              <figcaption>PE • RGB</figcaption>
            </figure>
            <figure class="pe-card"><img src="media/pe/L12_uv.png" alt="L12 – PCA of PE features (colored by UV)">
              <figcaption>PE • UV</figcaption>
            </figure>
            <figure class="pe-card"><img src="media/pe/L12_penult_pca3_rgb.png"
                alt="L12 – PCA of penultimate features (RGB)">
              <figcaption>Penultimate • RGB</figcaption>
            </figure>

            <div class="graph-belt" aria-label="Renderings for L12">
              <div class="belt">
                <img src="media/render/freq/L12/render_00000.png" alt="L12 render 1">
                <img src="media/render/freq/L12/render_00500.png" alt="L12 render 2">
                <img src="media/render/freq/L12/render_01000.png" alt="L12 render 3">
                <img src="media/render/freq/L12/render_01500.png" alt="L12 render 4">
                <img src="media/render/freq/L12/render_02000.png" alt="L12 render 5">
                <img src="media/render/freq/L12/render_02500.png" alt="L12 render 6">
                <!-- loop -->
                <img src="media/render/freq/L12/render_00000.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L12/render_00500.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L12/render_01500.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L12/render_02000.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L12/render_02500.png" alt="" aria-hidden="true">
              </div>
            </div>
          </div>

          <!---------------------------- L = 16 --------------------------------------->
          <div class="panel" data-l="L16">
            <figure class="pe-card"><img src="media/pe/L16_rgb.png" alt="L16 – PCA of PE features (colored by RGB)">
              <figcaption>PE • RGB</figcaption>
            </figure>
            <figure class="pe-card"><img src="media/pe/L16_uv.png" alt="L16 – PCA of PE features (colored by UV)">
              <figcaption>PE • UV</figcaption>
            </figure>
            <figure class="pe-card"><img src="media/pe/L16_penult_pca3_rgb.png"
                alt="L16 – PCA of penultimate features (RGB)">
              <figcaption>Penultimate • RGB</figcaption>
            </figure>

            <div class="graph-belt" aria-label="Renderings for L16">
              <div class="belt">
                <img src="media/render/freq/L16/render_00000.png" alt="L16 render 1">
                <img src="media/render/freq/L16/render_00500.png" alt="L16 render 2">
                <img src="media/render/freq/L16/render_01000.png" alt="L16 render 3">
                <img src="media/render/freq/L16/render_01500.png" alt="L16 render 4">
                <img src="media/render/freq/L16/render_02000.png" alt="L16 render 5">
                <img src="media/render/freq/L16/render_02500.png" alt="L16 render 6">
                <!-- loop -->
                <img src="media/render/freq/L16/render_00000.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L16/render_00500.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L16/render_01500.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L16/render_02000.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L16/render_02500.png" alt="" aria-hidden="true">
              </div>
            </div>
          </div>

          <!---------------------------- L = 24 --------------------------------------->
          <div class="panel" data-l="L24">
            <figure class="pe-card"><img src="media/pe/L24_rgb.png" alt="L24 – PCA of PE features (colored by RGB)">
              <figcaption>PE • RGB</figcaption>
            </figure>
            <figure class="pe-card"><img src="media/pe/L24_uv.png" alt="L24 – PCA of PE features (colored by UV)">
              <figcaption>PE • UV</figcaption>
            </figure>
            <figure class="pe-card"><img src="media/pe/L24_penult_pca3_rgb.png"
                alt="L24 – PCA of penultimate features (RGB)">
              <figcaption>Penultimate • RGB</figcaption>
            </figure>

            <div class="graph-belt" aria-label="Renderings for L24">
              <div class="belt">
                <img src="media/render/freq/L24/render_00000.png" alt="L24 render 1">
                <img src="media/render/freq/L24/render_00500.png" alt="L24 render 2">
                <img src="media/render/freq/L24/render_01000.png" alt="L24 render 3">
                <img src="media/render/freq/L24/render_01500.png" alt="L24 render 4">
                <img src="media/render/freq/L24/render_02000.png" alt="L24 render 5">
                <img src="media/render/freq/L24/render_02500.png" alt="L24 render 6">
                <!-- loop -->
                <img src="media/render/freq/L24/render_00000.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L24/render_00500.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L24/render_01500.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L24/render_02000.png" alt="" aria-hidden="true">
                <img src="media/render/freq/L24/render_02500.png" alt="" aria-hidden="true">
              </div>
            </div>
          </div>
        </div>
        <div class="pe-tabbar" role="tablist" aria-label="L">
          <label for="L1" role="tab">L1</label>
          <label for="L4" role="tab">L4</label>
          <label for="L8" role="tab">L8</label>
          <label for="L12" role="tab">L12</label>
          <label for="L16" role="tab">L16</label>
          <label for="L24" role="tab">L24</label>
        </div>
      </div>


      <article class="glass readable">

        At high frequency (L = 16 and especially L = 24), the PCA geometry becomes highly oscillatory.
        Instead of a single surface or a gently folded ribbon, the points fill a dense volume made up of overlapping
        bands and sheets that weave through one another.
        The color pattern, which encodes the original UV coordinates, makes this structure easier to interpret: blocks
        of similar color form thin, separated strands in PC space, indicating that many disjoint regions of the original
        image are now mapped to very different directions in the encoded feature space.
        In other words, small changes in u or v trigger large swings in the sinusoids at high L, so nearby pixels
        oscillate through many nearly orthogonal basis vectors.
        This is precisely the effect positional encoding is designed to achieve: it gives the MLP access to very fine
        spatial detail by decorrelating local neighborhoods, at the expense of producing a tangled, highly folded
        manifold that is more challenging to visualize.
        Across the sweep, the PCA plots therefore illustrate a clear progression: low L preserves a simple, almost
        planar embedding; mid-range L produces a structured but still readable ribbon; and high L yields a volumetric,
        multi-sheet structure where the encoding has effectively sprinkled the image plane across a high-dimensional
        torus in feature space.
      </article>

      </article>
    </section>

   <section id="varying_width" class="section alt">
  <header class="section-header">
    <h1 class="serif" data-reveal-line>Varying Widths</h1>
  </header>

  <article class="glass readable">
    Different hidden widths use the same positional encoding (L = 64) but allocate more or fewer channels per layer. 
    The panels below mirror the encoding sweep: each tab shows the PCA of PE(u,v) colored by RGB, the same PCA colored by UV, 
    the PCA of the penultimate layer features, and a strip of renderings across training iterations for that width.
  </article>

  <div class="pe-tabs">
    <!-- independent radio group for width -->
    <input type="radio" name="W" id="W64" checked>
    <input type="radio" name="W" id="W256">

    <div class="pe-panels" aria-live="polite">
      <!-- Width = 64 panel -->
      <div class="panel" data-w="W64">
        <figure class="pe-card">
          <img src="media/fox/L64_rgb.png" alt="L=64, width=64 – PCA of PE features (colored by RGB)">
          <figcaption>PE • RGB (width = 64)</figcaption>
        </figure>
        <figure class="pe-card">
          <img src="media/fox/L64_uv.png" alt="L=64, width=64 – PCA of PE features (colored by UV)">
          <figcaption>PE • UV (width = 64)</figcaption>
        </figure>
        <figure class="pe-card">
          <img src="media/fox/L64_penult_pca3_rgb.png" alt="L=64, width=64 – PCA of penultimate features (RGB)">
          <figcaption>Penultimate • RGB (width = 64)</figcaption>
        </figure>

        <div class="graph-belt" aria-label="Renderings for L=64, width=64">
          <div class="belt">
            <img src="media/fox/width/64/render_00000.png"  alt="W=64, iter 0">
            <img src="media/fox/width/64/render_00500.png"  alt="W=64, iter 500">
            <img src="media/fox/width/64/render_01000.png"  alt="W=64, iter 1000">
            <img src="media/fox/width/64/render_01500.png"  alt="W=64, iter 1500">
            <img src="media/fox/width/64/render_02000.png"  alt="W=64, iter 2000">
            <img src="media/fox/width/64/render_02500.png"  alt="W=64, iter 2500">
            <!-- loop for smooth belt -->
            <img src="media/fox/width/64/render_00000.png"  alt="" aria-hidden="true">
            <img src="media/fox/width/64/render_00500.png"  alt="" aria-hidden="true">
            <img src="media/fox/width/64/render_01500.png"  alt="" aria-hidden="true">
            <img src="media/fox/width/64/render_02000.png"  alt="" aria-hidden="true">
            <img src="media/fox/width/64/render_02500.png"  alt="" aria-hidden="true">
          </div>
        </div>
      </div>

      <!-- Width = 256 panel -->
      <div class="panel" data-w="64">
        <figure class="pe-card">
          <img src="media/fox/L64_256_rgb.png" alt="L=64, width=256 – PCA of PE features (colored by RGB)">
          <figcaption>PE • RGB (width = 256)</figcaption>
        </figure>
        <figure class="pe-card">
          <img src="media/fox/L64_256_uv.png" alt="L=64, width=256 – PCA of PE features (colored by UV)">
          <figcaption>PE • UV (width = 256)</figcaption>
        </figure>
        <figure class="pe-card">
          <img src="media/fox/L64_256_penult_pca3_rgb.png" alt="L=64, width=256 – PCA of penultimate features (RGB)">
          <figcaption>Penultimate • RGB (width = 256)</figcaption>
        </figure>

        <div class="graph-belt" aria-label="Renderings for L=64, width=256">
          <div class="belt">
            <img src="media/fox/width/64/render_00000.png" alt="W=256, iter 0">
            <img src="media/fox/width/64/render_00500.png" alt="W=256, iter 500">
            <img src="media/fox/width/64/render_01000.png" alt="W=256, iter 1000">
            <img src="media/fox/width/256/render_01500.png" alt="W=256, iter 1500">
            <img src="media/fox/width/256/render_02000.png" alt="W=256, iter 2000">
            <img src="media/fox/width/256/render_02500.png" alt="W=256, iter 2500">
            <!-- loop -->
            <img src="media/fox/width/256/render_00000.png" alt="" aria-hidden="true">
            <img src="media/fox/width/256/render_00500.png" alt="" aria-hidden="true">
            <img src="media/fox/width/256/render_01500.png" alt="" aria-hidden="true">
            <img src="media/fox/width/256/render_02000.png" alt="" aria-hidden="true">
            <img src="media/fox/width/256/render_02500.png" alt="" aria-hidden="true">
          </div>
        </div>
      </div>
    </div>

    <div class="pe-tabbar" role="tablist" aria-label="Width">
      <label for="W64" role="tab">W = 64</label>
      <label for="W256" role="tab">W = 256</label>
    </div>
  </div>
</section>





    </section>





    <!---------------------------------------- Part 2 Fit a Neural Radiance Field from Multi-view Images ----------------------------------------->
    <!-- <section id="nrl" class="section-alt">
      <header class="section-header">
        <h1 class="serif" data-reveal-line> Fitting Neural Radiance Field from Multi-view Images</h1>
      </header>
      <article glass data-reveal>
        <h2>
          Report your model architecture including number of layers, width, and learning rate. Feel free to add other
          details you think are important.
          Show training progression (images at different iterations, similar to the above reference) on both the
          provided test image and one of your own images.
          Show final results for 2 choices of max positional encoding frequency and 2 choices of width (a 2x2 grid of
          results). Try very low values for these hyperparameters to see how it affects the outputs.
          Show the PSNR curve for training on one image of your choice.
        </h2>
      </article>
    </section> -->


    <!-- END OF HTML -->
</body>

</html>